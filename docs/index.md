<h1 style = "text-align:center"><b>HEROES OF WORDS</b></h1>



## –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

* —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
* —Å—Ç–æ—Ä—ñ–Ω–∫–∞ —Å–ª–æ–≤–Ω–∏–∫–∞
* —Å—Ç–æ—Ä—ñ–Ω–∫–∞ "–∑–±—Ä–æ—è—Ä–Ω—ñ" - —ñ–≥—Ä–æ–≤–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω—É
* —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∞—Ä–µ–Ω–∏


## –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

* –Ω–∞–¥–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤–∏–≤—á–µ–Ω–Ω—è —Å–ª—ñ–≤ –ø–æ —ñ–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–º—É –º–µ—Ç–æ–¥—É
* –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∫—É–ø–ª—è—Ç–∏ –∞–º—É–Ω—ñ—Ü—ñ—é –¥–ª—è —Å–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂—É –¥–ª—è –≤–ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ –±–æ—è—Ö –∞—Ä–µ–Ω–∏
* –≤–µ–¥–µ–Ω–Ω—è –±–æ—ó–≤ –ü–í–ü –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –∫–æ–º–±–∞—Ç—Å




* –∫–æ–∂–Ω–æ–≥–æ –¥–Ω—è —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —Å–ª—ñ–≤ –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ –±–∞–∑–æ–≤–æ–≥–æ —Å–ª–æ–≤–Ω–∏–∫–∞ OXFORD 5000
* –≤–µ–¥–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    * —Å—Ç–∞—Ç—É—Å —Å–ª–æ–≤–∞ –º—ñ–Ω—è—î—Ç—å—Å—è –ø–æ –º–µ—Ç–æ–¥—É —ñ–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–≥–æ –≤–∏–≤—á–µ–Ω–Ω—è
* –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—Ä–∏ –≤–∏–≤—á–µ–Ω–Ω—ñ —Å–ª–æ–≤–∞ –æ—Ç—Ä–∏–º—É—î –≤–∞–ª—é—Ç—É, –∑–∞ —è–∫—É –º–æ–∂–Ω–∞ –∫—É–ø–ª—è—Ç–∏ –∞–º—É–Ω—ñ—Ü—ñ—é –¥–ª—è —Å–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–¥–ª—è —É—á–∞—Å—Ç—ñ —É –±–∏—Ç–≤–∞—Ö –Ω–∞ –∞—Ä–µ–Ω—ñ
* –∞—Ä–µ–Ω–∞ –∑—Ä–æ–±–ª–µ–Ω–∞ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –∫–æ–º–±–∞—Ç—Å —ñ –Ω–∞–¥–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –æ–Ω–ª–∞–π–Ω –≥—Ä–∏, –≥—Ä–∏ —ñ–∑ –∑–∞–ª–∏—à–µ–Ω–∏–º –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º. –ó–∞ –ø–µ—Ä–µ–º–æ–≥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î –≤–∞–ª—é—Ç—É
* –∑–±—Ä–æ—è—Ä–Ω—è - —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –ø–æ –ø—Ä–∏–Ω–∏—Ü–ø—É –º–∞–≥–∞–∑–∏–Ω—É —Ç–æ–≤–∞—Ä—ñ–≤

## CUSTOM EVENTS

* pages library, vocabulary:
    * `user_info_refreshed`
    * `create_study_list`
    * `statistics_refreshed`
    * `test_words`
    * `study_words`
    * `settings_refreshed`



## –Ü–ú–ü–û–†–¢ –ë–ê–ó–ò –°–õ–Ü–í –≤ –ê–î–ú–Ü–ù–¶–Ü –ß–ï–†–ï–ó –ï–ö–°–ï–õ–¨

–¥–ª—è —Ü—å–æ–≥–æ

pip install django-import-export

–î–æ–¥–∞–π –π–æ–≥–æ –≤ settings.py ‚Üí INSTALLED_APPS:

INSTALLED_APPS = [
    ...,
    'import_export',
]



–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä:

python manage.py runserver

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤—ñ–Ω –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ç–∞–∫—ñ —Ñ–æ—Ä–º–∞—Ç–∏:

CSV (.csv)

Excel (.xls, .xlsx)

TSV (—Ç–∞–±–ª–∏—á–Ω–∏–π —Ç–µ–∫—Å—Ç)

JSON, YAML

–ê–ª–µ ‚ö†Ô∏è –¥–ª—è Excel (.xlsx) –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ openpyxl.


–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ openpyxl:

pip install openpyxl


–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä.

–í –∞–¥–º—ñ–Ω—Ü—ñ –ø—Ä–∏ —ñ–º–ø–æ—Ä—Ç—ñ –∑‚Äô—è–≤–∏—Ç—å—Å—è –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–±—Ä–∞—Ç–∏ —Ñ–æ—Ä–º–∞—Ç .xlsx.





-----------------

Django –æ–±–º–µ–∂—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–ª—ñ–≤ —É POST-–∑–∞–ø–∏—Ç—ñ (—â–æ–± –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ –≤—ñ–¥ DoS-–∞—Ç–∞–∫). –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º DATA_UPLOAD_MAX_NUMBER_FIELDS = 1000.

–ö–æ–ª–∏ —ñ–º–ø–æ—Ä—Ç—É—î—à –≤–µ–ª–∏–∫–∏–π .xlsx, –∞–¥–º—ñ–Ω–∫–∞ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ GET/POST-–ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–ª—ñ—Ç–∏–Ω–∫–∏, —ñ —Ü–µ –ø–µ—Ä–µ–≤–∏—â—É—î –ª—ñ–º—ñ—Ç.

–Ø–∫ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏

–í settings.py –∑–±—ñ–ª—å—à–∏—Ç–∏ –ª—ñ–º—ñ—Ç:

# –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –¥–æ 100_000 –ø–æ–ª—ñ–≤
DATA_UPLOAD_MAX_NUMBER_FIELDS = 100000


–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä.

--------------------------------

–∫ –≤ –∞–¥–º—ñ–Ω–∫—É –¥–æ–¥–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –≤–∏–¥–∞–ª–µ–Ω–Ω—è —ñ –æ–±–Ω—É–ª–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–∏–∫–∞ –∞–π–¥—ñ
ChatGPT said:

–û–∫–µ–π, –∑—Ä–æ–∑—É–º—ñ–≤ üëç –¢–æ–±—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ –≤ Django Admin –∫–Ω–æ–ø–∫—É/–¥—ñ—é, —è–∫–∞ –±—É–¥–µ –æ–¥–Ω–æ—á–∞—Å–Ω–æ:

–í–∏–¥–∞–ª—è—Ç–∏ –≤—Å—ñ –∑–∞–ø–∏—Å–∏ –º–æ–¥–µ–ª—ñ (Word).

–û–±–Ω—É–ª—è—Ç–∏ AUTOINCREMENT –ø–æ–ª—è id, —â–æ–± –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∑–∞–ø–∏—Å –ø–æ—á–∏–Ω–∞–≤—Å—è –∑ 1.

–ó—Ä–æ–±–∏–º–æ —Ü–µ —á–µ—Ä–µ–∑ custom admin action.

üîπ –ü—Ä–∏–∫–ª–∞–¥ –¥–ª—è –º–æ–¥–µ–ª—ñ Word
from django.contrib import admin
from django.db import connection
from .models import Word

```python
@admin.register(Word)
class WordAdmin(ImportExportModelAdmin):
    resource_class = WordResource
    list_display = (
        'id',
        "word_level",
        "word_type",
        "article",
        "word",
    "transcription",
    "translation",
    "translation_options",
    "synonims",
    "comment",
    "category",
    "sub_category",
    "is_irregular_verb",
    "is_modal_verb")
    list_editable = (
        "word_level",
        "word_type",
    "article",
    "word",
    "transcription",
    "translation",
    "translation_options",
    "synonims",
    "comment",
    "category",
    "sub_category",
    "is_irregular_verb",
    "is_modal_verb")
    readonly_fields = ('id',)

    actions = ["delete_all_and_reset_id"]

    def delete_all_and_reset_id(self, request, queryset):
        # 1. –í–∏–¥–∞–ª—è—î–º–æ –≤—Å—ñ –∑–∞–ø–∏—Å–∏
        Word.objects.all().delete()

        # 2. –û–±–Ω—É–ª—è—î–º–æ –ª—ñ—á–∏–ª—å–Ω–∏–∫ id (AUTOINCREMENT)
        table_name = Word._meta.db_table
        with connection.cursor() as cursor:
            # –î–ª—è SQLite
            if 'sqlite' in connection.settings_dict['ENGINE']:
                cursor.execute(f'DELETE FROM sqlite_sequence WHERE name="{table_name}";')
            # –î–ª—è PostgreSQL
            elif 'postgresql' in connection.settings_dict['ENGINE']:
                cursor.execute(f'ALTER SEQUENCE {table_name}_id_seq RESTART WITH 1;')
            # –î–ª—è MySQL
            elif 'mysql' in connection.settings_dict['ENGINE']:
                cursor.execute(f'ALTER TABLE {table_name} AUTO_INCREMENT = 1;')

        self.message_user(request, "–í—Å—ñ –∑–∞–ø–∏—Å–∏ –≤–∏–¥–∞–ª–µ–Ω–æ, ID –æ–±–Ω—É–ª–µ–Ω–æ!")
    
    delete_all_and_reset_id.short_description = "–í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ —Å–ª–æ–≤–∞ —ñ –æ–±–Ω—É–ª–∏—Ç–∏ ID"

```

üîπ –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

–£ –∞–¥–º—ñ–Ω—Ü—ñ Word —É —Å–ø–∏—Å–∫—É –∑–∞–ø–∏—Å—ñ–≤ –∑‚Äô—è–≤–∏—Ç—å—Å—è Dropdown Actions ‚Üí —Ç–∞–º —Ç–≤–æ—è –¥—ñ—è ‚Äú–í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ —Å–ª–æ–≤–∞ —ñ –æ–±–Ω—É–ª–∏—Ç–∏ ID‚Äù.

–ü—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ:

–≤—Å—ñ —Å–ª–æ–≤–∞ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è;

AUTOINCREMENT –ø–æ–ª—è id –æ–±–Ω—É–ª—è—î—Ç—å—Å—è;

–Ω–∞—Å—Ç—É–ø–Ω–∏–π –¥–æ–¥–∞–Ω–∏–π –∑–∞–ø–∏—Å –æ—Ç—Ä–∏–º–∞—î id = 1.
